import{c as z,a as _,u as J,$ as A,b as N,g as P,d as Q,e as Z,s as p,f as $,h as q,i as ee}from"./solid-js-D-7i1sCw.js";import{F as ne,R as te}from"./vexflow-DwtmvLuk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function ie(e,n,t){let o=t.length,i=n.length,s=o,c=0,l=0,r=n[i-1].nextSibling,a=null;for(;c<i||l<s;){if(n[c]===t[l]){c++,l++;continue}for(;n[i-1]===t[s-1];)i--,s--;if(i===c){const h=s<o?l?t[l-1].nextSibling:t[s-l]:r;for(;l<s;)e.insertBefore(t[l++],h)}else if(s===l)for(;c<i;)(!a||!a.has(n[c]))&&n[c].remove(),c++;else if(n[c]===t[s-1]&&t[l]===n[i-1]){const h=n[--i].nextSibling;e.insertBefore(t[l++],n[c++].nextSibling),e.insertBefore(t[--s],h),n[i]=t[s]}else{if(!a){a=new Map;let f=l;for(;f<s;)a.set(t[f],f++)}const h=a.get(n[c]);if(h!=null)if(l<h&&h<s){let f=c,u=1,w;for(;++f<i&&f<s&&!((w=a.get(n[f]))==null||w!==h+u);)u++;if(u>h-l){const G=n[c];for(;l<h;)e.insertBefore(t[l++],G)}else e.replaceChild(t[l++],n[c++])}else c++;else n[c++].remove()}}}const j="_$DX_DELEGATE";function oe(e,n,t,o={}){let i;return z(s=>{i=s,n===document?e():g(n,e(),n.firstChild?null:void 0,t)},o.owner),()=>{i(),n.textContent=""}}function y(e,n,t){let o;const i=()=>{const c=document.createElement("template");return c.innerHTML=e,c.content.firstChild},s=()=>(o||(o=i())).cloneNode(!0);return s.cloneNode=s,s}function se(e,n=window.document){const t=n[j]||(n[j]=new Set);for(let o=0,i=e.length;o<i;o++){const s=e[o];t.has(s)||(t.add(s),n.addEventListener(s,ce))}}function b(e,n){n==null?e.removeAttribute("class"):e.className=n}function le(e,n,t){return J(()=>e(n,t))}function g(e,n,t,o){if(t!==void 0&&!o&&(o=[]),typeof n!="function")return O(e,n,o,t);_(i=>O(e,n(),i,t),o)}function ce(e){let n=e.target;const t=`$$${e.type}`,o=e.target,i=e.currentTarget,s=r=>Object.defineProperty(e,"target",{configurable:!0,value:r}),c=()=>{const r=n[t];if(r&&!n.disabled){const a=n[`${t}Data`];if(a!==void 0?r.call(n,a,e):r.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&s(n.host),!0},l=()=>{for(;c()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const r=e.composedPath();s(r[0]);for(let a=0;a<r.length-2&&(n=r[a],!!c());a++){if(n._$host){n=n._$host,l();break}if(n.parentNode===i)break}}else l();s(o)}function O(e,n,t,o,i){for(;typeof t=="function";)t=t();if(n===t)return t;const s=typeof n,c=o!==void 0;if(e=c&&t[0]&&t[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(n=n.toString(),n===t))return t;if(c){let l=t[0];l&&l.nodeType===3?l.data!==n&&(l.data=n):l=document.createTextNode(n),t=m(e,t,o,l)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||s==="boolean")t=m(e,t,o);else{if(s==="function")return _(()=>{let l=n();for(;typeof l=="function";)l=l();t=O(e,l,t,o)}),()=>t;if(Array.isArray(n)){const l=[],r=t&&Array.isArray(t);if(K(l,n,t,i))return _(()=>t=O(e,l,t,o,!0)),()=>t;if(l.length===0){if(t=m(e,t,o),c)return t}else r?t.length===0?I(e,l,o):ie(e,t,l):(t&&m(e),I(e,l));t=l}else if(n.nodeType){if(Array.isArray(t)){if(c)return t=m(e,t,o,n);m(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function K(e,n,t,o){let i=!1;for(let s=0,c=n.length;s<c;s++){let l=n[s],r=t&&t[e.length],a;if(!(l==null||l===!0||l===!1))if((a=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=K(e,l,r)||i;else if(a==="function")if(o){for(;typeof l=="function";)l=l();i=K(e,Array.isArray(l)?l:[l],Array.isArray(r)?r:[r])||i}else e.push(l),i=!0;else{const h=String(l);r&&r.nodeType===3&&r.data===h?e.push(r):e.push(document.createTextNode(h))}}return i}function I(e,n,t=null){for(let o=0,i=n.length;o<i;o++)e.insertBefore(n[o],t)}function m(e,n,t,o){if(t===void 0)return e.textContent="";const i=o||document.createTextNode("");if(n.length){let s=!1;for(let c=n.length-1;c>=0;c--){const l=n[c];if(i!==l){const r=l.parentNode===e;!s&&!c?r?e.replaceChild(i,l):e.insertBefore(i,t):r&&l.remove()}else s=!0}}else e.insertBefore(i,t);return[i]}const x=Symbol("store-raw"),S=Symbol("store-node"),C=Symbol("store-has"),V=Symbol("store-self");function Y(e){let n=e[A];if(!n&&(Object.defineProperty(e,A,{value:n=new Proxy(e,ae)}),!Array.isArray(e))){const t=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let i=0,s=t.length;i<s;i++){const c=t[i];o[c].get&&Object.defineProperty(e,c,{enumerable:o[c].enumerable,get:o[c].get.bind(n)})}}return n}function v(e){let n;return e!=null&&typeof e=="object"&&(e[A]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function D(e,n=new Set){let t,o,i,s;if(t=e!=null&&e[x])return t;if(!v(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let c=0,l=e.length;c<l;c++)i=e[c],(o=D(i,n))!==i&&(e[c]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const c=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let r=0,a=c.length;r<a;r++)s=c[r],!l[s].get&&(i=e[s],(o=D(i,n))!==i&&(e[s]=o))}return e}function F(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function k(e,n,t){if(e[n])return e[n];const[o,i]=Z(t,{equals:!1,internal:!0});return o.$=i,e[n]=o}function re(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===A||n===S||(delete t.value,delete t.writable,t.get=()=>e[A][n]),t}function U(e){P()&&k(F(e,S),V)()}function fe(e){return U(e),Reflect.ownKeys(e)}const ae={get(e,n,t){if(n===x)return e;if(n===A)return t;if(n===N)return U(e),t;const o=F(e,S),i=o[n];let s=i?i():e[n];if(n===S||n===C||n==="__proto__")return s;if(!i){const c=Object.getOwnPropertyDescriptor(e,n);P()&&(typeof s!="function"||e.hasOwnProperty(n))&&!(c&&c.get)&&(s=k(o,n,s)())}return v(s)?Y(s):s},has(e,n){return n===x||n===A||n===N||n===S||n===C||n==="__proto__"?!0:(P()&&k(F(e,C),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:fe,getOwnPropertyDescriptor:re};function B(e,n,t,o=!1){if(!o&&e[n]===t)return;const i=e[n],s=e.length;t===void 0?(delete e[n],e[C]&&e[C][n]&&i!==void 0&&e[C][n].$()):(e[n]=t,e[C]&&e[C][n]&&i===void 0&&e[C][n].$());let c=F(e,S),l;if((l=k(c,n,i))&&l.$(()=>t),Array.isArray(e)&&e.length!==s){for(let r=e.length;r<s;r++)(l=c[r])&&l.$();(l=k(c,"length",s))&&l.$(e.length)}(l=c[V])&&l.$()}function W(e,n){const t=Object.keys(n);for(let o=0;o<t.length;o+=1){const i=t[o];B(e,i,n[i])}}function de(e,n){if(typeof n=="function"&&(n=n(e)),n=D(n),Array.isArray(n)){if(e===n)return;let t=0,o=n.length;for(;t<o;t++){const i=n[t];e[t]!==i&&B(e,t,i)}B(e,"length",o)}else W(e,n)}function E(e,n,t=[]){let o,i=e;if(n.length>1){o=n.shift();const c=typeof o,l=Array.isArray(e);if(Array.isArray(o)){for(let r=0;r<o.length;r++)E(e,[o[r]].concat(n),t);return}else if(l&&c==="function"){for(let r=0;r<e.length;r++)o(e[r],r)&&E(e,[r].concat(n),t);return}else if(l&&c==="object"){const{from:r=0,to:a=e.length-1,by:h=1}=o;for(let f=r;f<=a;f+=h)E(e,[f].concat(n),t);return}else if(n.length>1){E(e[o],n,[o].concat(t));return}i=e[o],t=[o].concat(t)}let s=n[0];typeof s=="function"&&(s=s(i,t),s===i)||o===void 0&&s==null||(s=D(s),o===void 0||v(i)&&v(s)&&!Array.isArray(s)?W(i,s):B(e,o,s))}function ue(...[e,n]){const t=D(e||{}),o=Array.isArray(t),i=Y(t);function s(...c){Q(()=>{o&&c.length===1?de(t,c[0]):E(t,c)})}return[i,s]}const he="_main_1ivqt_1",ge={main:he},X={C:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],G:["C","C#","D","D#","E","Fn","F","G","G#","A","A#","B"],D:["Cn","C","D","D#","E","Fn","F","G","G#","A","A#","B"],A:["Cn","C","D","D#","E","Fn","F","Gn","G","A","A#","B"],E:["Cn","C","Dn","D","E","Fn","F","Gn","G","A","A#","B"],B:["Cn","C","Dn","D","E","Fn","F","Gn","G","An","A","B"],"F#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","B"],"C#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","Bn"],F:["C","Db","D","Eb","E","F","Gb","G","Ab","A","B","Bn"],Bb:["C","Db","D","E","En","F","Gb","G","Ab","A","B","Bn"],Eb:["C","Db","D","E","En","F","Gb","G","A","An","B","Bn"],Ab:["C","D","Dn","E","En","F","Gb","G","A","An","B","Bn"],Db:["C","D","Dn","E","En","F","G","Gn","A","An","B","Bn"],Gb:["Cn","D","Dn","E","En","F","G","Gn","A","An","B","C"],Cb:["Cn","D","Dn","E","F","Fn","G","Gn","A","An","B","C"]},_e={C:0,G:1,D:2,A:3,E:4,B:5,"F#":6,"C#":7,F:1,Bb:2,Eb:3,Ab:4,Db:5,Gb:6,Cb:7},Ce={C:[0,2,4,5,7,9,11],G:[7,9,11,0,2,4,6],D:[2,4,6,7,9,11,1],A:[9,11,1,2,4,6,8],E:[4,6,8,9,11,1,3],B:[11,1,3,4,6,8,10],"F#":[6,7,9,10,0,2,4],"C#":[1,3,5,6,8,10,0],F:[5,7,9,10,0,2,4],Bb:[10,0,2,3,5,7,9],Eb:[3,5,7,8,10,0,2],Ab:[8,10,0,1,3,5,7],Db:[1,3,5,6,8,10,0],Gb:[6,8,10,11,1,3,5],Cb:[11,1,3,4,6,8,10]},be=Array.from({length:12},(e,n)=>n);function L(e){const n=ye({min:0,max:e.length-1});return e[n]}function ye(e){const n=Math.random(),t=me(n,{min:0,max:1},e);return Math.round(t)}function R(){return L(be)}function $e(e){const n=Ce[e];return L(n)}function Ae(){return L([3,4])}function me(e,n,t){return(e-n.min)/(n.max-n.min)*(t.max-t.min)+t.min}const Se="_panel_s4jct_1",we={panel:Se};var Ee=y("<div><label for=input.key><span>Key Signature </span><select name=input.key id=input.key></select></label><label for=input.clef><span> Clef </span><select></select></label><label for=input.chromatics><span> Chromatics </span><input type=checkbox>"),M=y("<option>");function De(e){return(()=>{var n=Ee(),t=n.firstChild,o=t.firstChild,i=o.nextSibling,s=t.nextSibling,c=s.firstChild,l=c.nextSibling,r=s.nextSibling,a=r.firstChild,h=a.nextSibling;return i.addEventListener("change",f=>{var u;(u=e==null?void 0:e.onChangeKeySignature)==null||u.call(e,f.target.value)}),g(i,()=>Object.keys(X).map(f=>(()=>{var u=M();return u.value=f,g(u,f),_(()=>u.selected=e.keySignature==f),u})())),l.addEventListener("change",f=>{var u;return(u=e==null?void 0:e.onChangeClef)==null?void 0:u.call(e,f.target.value)}),g(l,()=>["treble","alto","bass"].map(f=>(()=>{var u=M();return u.value=f,g(u,f),u})())),h.addEventListener("change",f=>{var u;return(u=e.onChangeChromatics)==null?void 0:u.call(e,f.currentTarget.checked)}),_(()=>b(n,we.panel)),_(()=>h.checked=e.chromatics),n})()}const ke="_list_8jld2_1",T={list:ke};var Ge=y("<dl><div><dt>Streak</dt><dd> </dd></div><div><dt>Accuracy</dt><dd>%");function Oe(e){const n=()=>e.outcome.correct+e.outcome.incorrect,t=()=>n()<=0?0:Math.trunc(100*(e.outcome.correct/n()));return(()=>{var o=Ge(),i=o.firstChild,s=i.firstChild,c=s.nextSibling;c.firstChild;var l=i.nextSibling,r=l.firstChild,a=r.nextSibling,h=a.firstChild;return g(c,()=>e.streak,null),g(a,t,h),_(f=>{var u=T.list,w=T.streak,G=T.accuracy;return u!==f.e&&b(o,f.e=u),w!==f.t&&b(i,f.t=w),G!==f.a&&b(l,f.a=G),f},{e:void 0,t:void 0,a:void 0}),o})()}const ve="_panel_1px5d_1",Fe={panel:ve};var Be=y("<aside>");function Te(e){const[n,t]=p(e,["streak","outcome"]);return(()=>{var o=Be();return g(o,$(Oe,n),null),g(o,$(De,t),null),_(()=>b(o,Fe.panel)),o})()}const Pe="_piano_1ai01_1",Ke="_key_1ai01_7",xe="_c_1ai01_15",Le="_cs_1ai01_16",Ne="_fs_1ai01_17",je="_black_1ai01_21",Ie="_white_1ai01_37",Re="_d_1ai01_73",Me="_e_1ai01_79",He="_f_1ai01_17",qe="_g_1ai01_91",Ve="_a_1ai01_97",Ye="_b_1ai01_21",d={piano:Pe,key:Ke,c:xe,cs:Le,fs:Ne,black:je,white:Ie,d:Re,e:Me,f:He,g:qe,a:Ve,b:Ye};var Ue=y("<ul>"),We=y("<li tabindex=0>");function Xe(e){return(()=>{var n=Ue();return g(n,()=>[`${d.white} ${d.c}`,`${d.black} ${d.cs}`,`${d.white} ${d.d}`,`${d.black} ${d.ds}`,`${d.white} ${d.e}`,`${d.white} ${d.f}`,`${d.black} ${d.fs}`,`${d.white} ${d.g}`,`${d.black} ${d.gs}`,`${d.white} ${d.a}`,`${d.black} ${d.s}`,`${d.white} ${d.b}`].map((t,o)=>$(ze,{class:t,kind:o,get onClick(){return e.onClick}}))),_(()=>b(n,d.piano)),n})()}function ze(e){return(()=>{var n=We();return n.$$click=()=>{var t;return(t=e.onClick)==null?void 0:t.call(e,e.kind)},_(()=>b(n,`${d.key} ${e.class}`)),n})()}se(["click"]);const Je="_note_vhczf_1",Qe="_svg_vhczf_5",Ze="_ref_vhczf_10",H={note:Je,svg:Qe,ref:Ze};var pe=y("<div id=note-oriety-vex-flow>");const en="note-oriety-vex-flow";function nn(e){let n;const t=q(()=>X[e.signature()][e.pitchClassKind()]);return ee(o=>{if(!n)return!1;o&&(n.innerHTML="");const i=100+_e[e.signature()]*10,s=120,c=10,l=`0 ${c} ${i} ${s-c}`,r=new ne({renderer:{elementId:en,width:i,height:s,backend:te.SVG}}),a=r.EasyScore(),h=a.notes(`${t()}${e.octave()}/w`,{clef:e.clef});r.System().addStave({voices:[a.voice(h)]}).addClef(e.clef).addKeySignature(e.signature()),r.draw();const f=n.firstChild;return f.removeAttribute("width"),f.removeAttribute("height"),f.removeAttribute("style"),f.setAttribute("viewBox",l),f.classList.add(H.svg),n.classList.add(H.ref),!0},!1),(()=>{var o=pe(),i=n;return typeof i=="function"?le(i,o):n=o,o})()}var tn=y("<main>");const on={treble:1,alto:0,bass:-1};function sn(){const[e,n]=ue({pitchClassKind:R(),signature:"C",altoOctave:4,outcome:{correct:0,incorrect:0},showChromatics:!0,streak:0,clef:"treble"}),t=q(()=>e.altoOctave+on[e.clef]);function o(){let r;for(;;)if(r=e.showChromatics?R():$e(e.signature),r!==e.pitchClassKind){n("pitchClassKind",r);break}n("altoOctave",Ae())}function i(r){n("showChromatics",r),o()}function s(r){if(r!==e.pitchClassKind){n("streak",0),n("outcome","incorrect",a=>a+1);return}n("streak",a=>a+1),n("outcome","correct",a=>a+1),o()}function c(r){n("clef",r)}function l(r){n("signature",r)}return(()=>{var r=tn();return g(r,$(nn,{pitchClassKind:()=>e.pitchClassKind,signature:()=>e.signature,octave:t,get clef(){return e.clef}}),null),g(r,$(Te,{get chromatics(){return e.showChromatics},get clef(){return e.clef},get keySignature(){return e.signature},get outcome(){return e.outcome},get streak(){return e.streak},onChangeChromatics:i,onChangeClef:c,onChangeKeySignature:l}),null),g(r,$(Xe,{onClick:a=>s(a)}),null),_(()=>b(r,ge.main)),r})()}oe(()=>$(sn,{}),document.body);
