import{c as ne,a as A,u as te,b as v,d as ie,$ as b,e as R,g as x,f as oe,h as se,i as N}from"./solid-js-DsYHm_RB.js";import{F as re,R as le}from"./vexflow-DwtmvLuk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function fe(e,n,t){let r=t.length,o=n.length,i=r,l=0,s=0,f=n[o-1].nextSibling,c=null;for(;l<o||s<i;){if(n[l]===t[s]){l++,s++;continue}for(;n[o-1]===t[i-1];)o--,i--;if(o===l){const a=i<r?s?t[s-1].nextSibling:t[i-s]:f;for(;s<i;)e.insertBefore(t[s++],a)}else if(i===s)for(;l<o;)(!c||!c.has(n[l]))&&n[l].remove(),l++;else if(n[l]===t[i-1]&&t[s]===n[o-1]){const a=n[--o].nextSibling;e.insertBefore(t[s++],n[l++].nextSibling),e.insertBefore(t[--i],a),n[o]=t[i]}else{if(!c){c=new Map;let u=s;for(;u<i;)c.set(t[u],u++)}const a=c.get(n[l]);if(a!=null)if(s<a&&a<i){let u=l,y=1,g;for(;++u<o&&u<i&&!((g=c.get(n[u]))==null||g!==a+y);)y++;if(y>a-s){const T=n[l];for(;s<a;)e.insertBefore(t[s++],T)}else e.replaceChild(t[s++],n[l++])}else l++;else n[l++].remove()}}}const H="_$DX_DELEGATE";function ce(e,n,t,r={}){let o;return ne(i=>{o=i,n===document?e():d(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{o(),n.textContent=""}}function D(e,n,t){let r;const o=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},i=()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function ae(e,n=window.document){const t=n[H]||(n[H]=new Set);for(let r=0,o=e.length;r<o;r++){const i=e[r];t.has(i)||(t.add(i),n.addEventListener(i,he))}}function ue(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function G(e,n){n==null?e.removeAttribute("class"):e.className=n}function de(e,n,t){return te(()=>e(n,t))}function d(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return B(e,n,r,t);A(o=>B(e,n(),o,t),r)}function he(e){let n=e.target;const t=`$$${e.type}`,r=e.target,o=e.currentTarget,i=f=>Object.defineProperty(e,"target",{configurable:!0,value:f}),l=()=>{const f=n[t];if(f&&!n.disabled){const c=n[`${t}Data`];if(c!==void 0?f.call(n,c,e):f.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&i(n.host),!0},s=()=>{for(;l()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const f=e.composedPath();i(f[0]);for(let c=0;c<f.length-2&&(n=f[c],!!l());c++){if(n._$host){n=n._$host,s();break}if(n.parentNode===o)break}}else s();i(r)}function B(e,n,t,r,o){for(;typeof t=="function";)t=t();if(n===t)return t;const i=typeof n,l=r!==void 0;if(e=l&&t[0]&&t[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(n=n.toString(),n===t))return t;if(l){let s=t[0];s&&s.nodeType===3?s.data!==n&&(s.data=n):s=document.createTextNode(n),t=C(e,t,r,s)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||i==="boolean")t=C(e,t,r);else{if(i==="function")return A(()=>{let s=n();for(;typeof s=="function";)s=s();t=B(e,s,t,r)}),()=>t;if(Array.isArray(n)){const s=[],f=t&&Array.isArray(t);if(j(s,n,t,o))return A(()=>t=B(e,s,t,r,!0)),()=>t;if(s.length===0){if(t=C(e,t,r),l)return t}else f?t.length===0?V(e,s,r):fe(e,t,s):(t&&C(e),V(e,s));t=s}else if(n.nodeType){if(Array.isArray(t)){if(l)return t=C(e,t,r,n);C(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function j(e,n,t,r){let o=!1;for(let i=0,l=n.length;i<l;i++){let s=n[i],f=t&&t[e.length],c;if(!(s==null||s===!0||s===!1))if((c=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))o=j(e,s,f)||o;else if(c==="function")if(r){for(;typeof s=="function";)s=s();o=j(e,Array.isArray(s)?s:[s],Array.isArray(f)?f:[f])||o}else e.push(s),o=!0;else{const a=String(s);f&&f.nodeType===3&&f.data===a?e.push(f):e.push(document.createTextNode(a))}}return o}function V(e,n,t=null){for(let r=0,o=n.length;r<o;r++)e.insertBefore(n[r],t)}function C(e,n,t,r){if(t===void 0)return e.textContent="";const o=r||document.createTextNode("");if(n.length){let i=!1;for(let l=n.length-1;l>=0;l--){const s=n[l];if(o!==s){const f=s.parentNode===e;!i&&!l?f?e.replaceChild(o,s):e.insertBefore(o,t):f&&s.remove()}else i=!0}}else e.insertBefore(o,t);return[o]}const ge="_main_10uyl_1",Ae={main:ge},L={C:["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],G:["A","A#","B","C","C#","D","D#","E","Fn","F","G","G#"],D:["A","A#","B","Cn","C","D","D#","E","Fn","F","G","G#"],A:["A","A#","B","Cn","C","D","D#","E","Fn","F","Gn","G"],E:["A","A#","B","Cn","C","Dn","D","E","Fn","F","Gn","G"],B:["An","A","B","Cn","C","Dn","D","E","Fn","F","Gn","G"],"F#":["An","A","B","Cn","C","Dn","D","En","E","F","Gn","G"],"C#":["An","A","Bn","Cn","C","Dn","D","En","E","F","Gn","G"],F:["A","B","Bn","C","Db","D","Eb","E","F","Gb","G","Ab"],Bb:["A","B","Bn","C","Db","D","E","En","F","Gb","G","Ab"],Eb:["An","B","Bn","C","Db","D","E","En","F","Gb","G","A"],Ab:["An","B","Bn","C","D","Dn","E","En","F","Gb","G","A"],Db:["An","B","Bn","C","D","Dn","E","En","F","G","Gn","A"],Gb:["An","B","C","Cn","D","Dn","E","En","F","G","Gn","A"],Cb:["An","B","C","Cn","D","Dn","E","F","Fn","G","Gn","A"]};function be(e){const n=["b","#","n","x"];return e.filter(t=>n.some(r=>t.includes(r))).length}const W=[["A","An"],["A#","Bb"],["B","Bn","Cb"],["C","Cn","B#"],["C#","Db"],["D","Dn"],["D#","Eb"],["E","En","Fb"],["F","Fn","E#"],["F#","Gb"],["G","Gn"],["G#","Ab"]],ye="_list_gkr10_1",Ce="_item_gkr10_7",_e="_button_gkr10_10",p={list:ye,item:Ce,button:_e};var $e=D("<ol>"),we=D("<li><button>");function Se(e){const{onClick:n}=e;return(()=>{var t=$e();return d(t,()=>W.map((r,o)=>(()=>{var i=we(),l=i.firstChild;return l.$$click=()=>n==null?void 0:n(o),d(l,()=>r.join(" / ")),A(s=>{var f=p.item,c=p.button,a=e.answer()==o;return f!==s.e&&G(i,s.e=f),c!==s.t&&G(l,s.t=c),a!==s.a&&ue(l,"data-answer",s.a=a),s},{e:void 0,t:void 0,a:void 0}),i})())),A(()=>G(t,p.list)),t})()}ae(["click"]);const Ee="_note_1hw5a_1",De="_svg_1hw5a_5",me="_ref_1hw5a_8",q={note:Ee,svg:De,ref:me};var Ge=D("<div id=note-oriety-vex-flow>");const Be="note-oriety-vex-flow";function Fe(e){let n;const t=v(()=>L[e.signature()][e.pitchClassKind()]);return ie(r=>{if(!n)return!1;r&&(n.innerHTML="");const i=100+be(L[e.signature()])*10,l=140,s=new re({renderer:{elementId:Be,width:i,height:l,backend:le.SVG}}),f=s.EasyScore(),c=f.notes(`${t()}${e.octave()}/w`);s.System().addStave({voices:[f.voice(c)]}).addClef("treble").addKeySignature(e.signature()),s.draw();const a=n.firstChild;return a.removeAttribute("width"),a.removeAttribute("height"),a.classList.add(q.svg),n.classList.add(q.ref),!0},!1),(()=>{var r=Ge(),o=n;return typeof o=="function"?de(o,r):n=r,r})()}const k=Symbol("store-raw"),_=Symbol("store-node"),h=Symbol("store-has"),X=Symbol("store-self");function J(e){let n=e[b];if(!n&&(Object.defineProperty(e,b,{value:n=new Proxy(e,Te)}),!Array.isArray(e))){const t=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=t.length;o<i;o++){const l=t[o];r[l].get&&Object.defineProperty(e,l,{enumerable:r[l].enumerable,get:r[l].get.bind(n)})}}return n}function F(e){let n;return e!=null&&typeof e=="object"&&(e[b]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function S(e,n=new Set){let t,r,o,i;if(t=e!=null&&e[k])return t;if(!F(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let l=0,s=e.length;l<s;l++)o=e[l],(r=S(o,n))!==o&&(e[l]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const l=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let f=0,c=l.length;f<c;f++)i=l[f],!s[i].get&&(o=e[i],(r=S(o,n))!==o&&(e[i]=r))}return e}function O(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function E(e,n,t){if(e[n])return e[n];const[r,o]=se(t,{equals:!1,internal:!0});return r.$=o,e[n]=r}function Oe(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===b||n===_||(delete t.value,delete t.writable,t.get=()=>e[b][n]),t}function Q(e){x()&&E(O(e,_),X)()}function Pe(e){return Q(e),Reflect.ownKeys(e)}const Te={get(e,n,t){if(n===k)return e;if(n===b)return t;if(n===R)return Q(e),t;const r=O(e,_),o=r[n];let i=o?o():e[n];if(n===_||n===h||n==="__proto__")return i;if(!o){const l=Object.getOwnPropertyDescriptor(e,n);x()&&(typeof i!="function"||e.hasOwnProperty(n))&&!(l&&l.get)&&(i=E(r,n,i)())}return F(i)?J(i):i},has(e,n){return n===k||n===b||n===R||n===_||n===h||n==="__proto__"?!0:(x()&&E(O(e,h),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Pe,getOwnPropertyDescriptor:Oe};function P(e,n,t,r=!1){if(!r&&e[n]===t)return;const o=e[n],i=e.length;t===void 0?(delete e[n],e[h]&&e[h][n]&&o!==void 0&&e[h][n].$()):(e[n]=t,e[h]&&e[h][n]&&o===void 0&&e[h][n].$());let l=O(e,_),s;if((s=E(l,n,o))&&s.$(()=>t),Array.isArray(e)&&e.length!==i){for(let f=e.length;f<i;f++)(s=l[f])&&s.$();(s=E(l,"length",i))&&s.$(e.length)}(s=l[X])&&s.$()}function Z(e,n){const t=Object.keys(n);for(let r=0;r<t.length;r+=1){const o=t[r];P(e,o,n[o])}}function pe(e,n){if(typeof n=="function"&&(n=n(e)),n=S(n),Array.isArray(n)){if(e===n)return;let t=0,r=n.length;for(;t<r;t++){const o=n[t];e[t]!==o&&P(e,t,o)}P(e,"length",r)}else Z(e,n)}function w(e,n,t=[]){let r,o=e;if(n.length>1){r=n.shift();const l=typeof r,s=Array.isArray(e);if(Array.isArray(r)){for(let f=0;f<r.length;f++)w(e,[r[f]].concat(n),t);return}else if(s&&l==="function"){for(let f=0;f<e.length;f++)r(e[f],f)&&w(e,[f].concat(n),t);return}else if(s&&l==="object"){const{from:f=0,to:c=e.length-1,by:a=1}=r;for(let u=f;u<=c;u+=a)w(e,[u].concat(n),t);return}else if(n.length>1){w(e[r],n,[r].concat(t));return}o=e[r],t=[r].concat(t)}let i=n[0];typeof i=="function"&&(i=i(o,t),i===o)||r===void 0&&i==null||(i=S(i),r===void 0||F(o)&&F(i)&&!Array.isArray(i)?Z(o,i):P(e,r,i))}function ve(...[e,n]){const t=S(e||{}),r=Array.isArray(t),o=J(t);function i(...l){oe(()=>{r&&l.length===1?pe(t,l[0]):w(t,l)})}return[o,i]}var xe=D("<main><section><label for=input.key><span>Key Signature </span><select name=input.key id=input.key></select></label><span> Streak: <!> </span><span>Accuracy: <!>% (<!> of <!>)"),Ne=D("<option>");function Y(){return Math.floor(Math.random()*W.length)}function U(){return Math.round(Math.random())+4}function je(){const[e,n]=ve({answer:Y(),outcome:{correct:0,incorrect:0},showChromatics:!1,signature:"C",streak:0,octave:U()}),t=v(()=>e.outcome.correct+e.outcome.incorrect),r=v(()=>t()<=0?0:Math.trunc(100*(e.outcome.correct/t())));function o(i){if(i!==e.answer){n("streak",0),n("outcome","incorrect",l=>l+1);return}for(n("streak",l=>l+1),n("outcome","correct",l=>l+1);;){const l=Y();if(l!==e.answer){n("answer",l);break}}n("octave",U())}return(()=>{var i=xe(),l=i.firstChild,s=l.firstChild,f=s.firstChild,c=f.nextSibling,a=s.nextSibling,u=a.firstChild,y=u.nextSibling;y.nextSibling;var g=a.nextSibling,T=g.firstChild,I=T.nextSibling,z=I.nextSibling,K=z.nextSibling,ee=K.nextSibling,M=ee.nextSibling;return M.nextSibling,d(i,N(Fe,{pitchClassKind:()=>e.answer,signature:()=>e.signature,octave:()=>e.octave}),l),c.addEventListener("change",$=>{n("signature",$.currentTarget.value)}),d(c,()=>Object.keys(L).map($=>(()=>{var m=Ne();return m.value=$,d(m,$),A(()=>m.selected=e.signature==$),m})())),d(l,!1,a),d(a,()=>e.streak,y),d(g,r,I),d(g,()=>e.outcome.correct,K),d(g,t,M),d(i,N(Se,{answer:()=>e.answer,onClick:o}),null),A(()=>G(i,Ae.main)),i})()}ce(()=>N(je,{}),document.body);
