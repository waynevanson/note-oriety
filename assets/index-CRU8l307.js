import{c as ee,a as C,u as ne,b as X,d as te,$ as A,e as M,g as P,f as ie,h as oe,i as E}from"./solid-js-DsYHm_RB.js";import{F as le,R as se}from"./vexflow-DwtmvLuk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function re(e,n,t){let s=t.length,i=n.length,l=s,r=0,o=0,c=n[i-1].nextSibling,f=null;for(;r<i||o<l;){if(n[r]===t[o]){r++,o++;continue}for(;n[i-1]===t[l-1];)i--,l--;if(i===r){const d=l<s?o?t[o-1].nextSibling:t[l-o]:c;for(;o<l;)e.insertBefore(t[o++],d)}else if(l===o)for(;r<i;)(!f||!f.has(n[r]))&&n[r].remove(),r++;else if(n[r]===t[l-1]&&t[o]===n[i-1]){const d=n[--i].nextSibling;e.insertBefore(t[o++],n[r++].nextSibling),e.insertBefore(t[--l],d),n[i]=t[l]}else{if(!f){f=new Map;let a=o;for(;a<l;)f.set(t[a],a++)}const d=f.get(n[r]);if(d!=null)if(o<d&&d<l){let a=r,u=1,S;for(;++a<i&&a<l&&!((S=f.get(n[a]))==null||S!==d+u);)u++;if(u>d-o){const k=n[r];for(;o<d;)e.insertBefore(t[o++],k)}else e.replaceChild(t[o++],n[r++])}else r++;else n[r++].remove()}}}const H="_$DX_DELEGATE";function ce(e,n,t,s={}){let i;return ee(l=>{i=l,n===document?e():h(n,e(),n.firstChild?null:void 0,t)},s.owner),()=>{i(),n.textContent=""}}function _(e,n,t){let s;const i=()=>{const r=document.createElement("template");return r.innerHTML=e,r.content.firstChild},l=()=>(s||(s=i())).cloneNode(!0);return l.cloneNode=l,l}function fe(e,n=window.document){const t=n[H]||(n[H]=new Set);for(let s=0,i=e.length;s<i;s++){const l=e[s];t.has(l)||(t.add(l),n.addEventListener(l,de))}}function y(e,n){n==null?e.removeAttribute("class"):e.className=n}function ae(e,n,t){return ne(()=>e(n,t))}function h(e,n,t,s){if(t!==void 0&&!s&&(s=[]),typeof n!="function")return G(e,n,s,t);C(i=>G(e,n(),i,t),s)}function de(e){let n=e.target;const t=`$$${e.type}`,s=e.target,i=e.currentTarget,l=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),r=()=>{const c=n[t];if(c&&!n.disabled){const f=n[`${t}Data`];if(f!==void 0?c.call(n,f,e):c.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&l(n.host),!0},o=()=>{for(;r()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const c=e.composedPath();l(c[0]);for(let f=0;f<c.length-2&&(n=c[f],!!r());f++){if(n._$host){n=n._$host,o();break}if(n.parentNode===i)break}}else o();l(s)}function G(e,n,t,s,i){for(;typeof t=="function";)t=t();if(n===t)return t;const l=typeof n,r=s!==void 0;if(e=r&&t[0]&&t[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(n=n.toString(),n===t))return t;if(r){let o=t[0];o&&o.nodeType===3?o.data!==n&&(o.data=n):o=document.createTextNode(n),t=$(e,t,s,o)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||l==="boolean")t=$(e,t,s);else{if(l==="function")return C(()=>{let o=n();for(;typeof o=="function";)o=o();t=G(e,o,t,s)}),()=>t;if(Array.isArray(n)){const o=[],c=t&&Array.isArray(t);if(x(o,n,t,i))return C(()=>t=G(e,o,t,s,!0)),()=>t;if(o.length===0){if(t=$(e,t,s),r)return t}else c?t.length===0?V(e,o,s):re(e,t,o):(t&&$(e),V(e,o));t=o}else if(n.nodeType){if(Array.isArray(t)){if(r)return t=$(e,t,s,n);$(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function x(e,n,t,s){let i=!1;for(let l=0,r=n.length;l<r;l++){let o=n[l],c=t&&t[e.length],f;if(!(o==null||o===!0||o===!1))if((f=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=x(e,o,c)||i;else if(f==="function")if(s){for(;typeof o=="function";)o=o();i=x(e,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||i}else e.push(o),i=!0;else{const d=String(o);c&&c.nodeType===3&&c.data===d?e.push(c):e.push(document.createTextNode(d))}}return i}function V(e,n,t=null){for(let s=0,i=n.length;s<i;s++)e.insertBefore(n[s],t)}function $(e,n,t,s){if(t===void 0)return e.textContent="";const i=s||document.createTextNode("");if(n.length){let l=!1;for(let r=n.length-1;r>=0;r--){const o=n[r];if(i!==o){const c=o.parentNode===e;!l&&!r?c?e.replaceChild(i,o):e.insertBefore(i,t):c&&o.remove()}else l=!0}}else e.insertBefore(i,t);return[i]}const ue="_main_1m90i_1",he="_panel_1m90i_17",Y={main:ue,panel:he},ge="_note_vhczf_1",Ce="_svg_vhczf_5",be="_ref_vhczf_10",q={note:ge,svg:Ce,ref:be},z={C:["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],G:["C","C#","D","D#","E","Fn","F","G","G#","A","A#","B"],D:["Cn","C","D","D#","E","Fn","F","G","G#","A","A#","B"],A:["Cn","C","D","D#","E","Fn","F","Gn","G","A","A#","B"],E:["Cn","C","Dn","D","E","Fn","F","Gn","G","A","A#","B"],B:["Cn","C","Dn","D","E","Fn","F","Gn","G","An","A","B"],"F#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","B"],"C#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","Bn"],F:["C","Db","D","Eb","E","F","Gb","G","Ab","A","B","Bn"],Bb:["C","Db","D","E","En","F","Gb","G","Ab","A","B","Bn"],Eb:["C","Db","D","E","En","F","Gb","G","A","An","B","Bn"],Ab:["C","D","Dn","E","En","F","Gb","G","A","An","B","Bn"],Db:["C","D","Dn","E","En","F","G","Gn","A","An","B","Bn"],Gb:["Cn","D","Dn","E","En","F","G","Gn","A","An","B","C"],Cb:["Cn","D","Dn","E","F","Fn","G","Gn","A","An","B","C"]},ye={C:0,G:1,D:2,A:3,E:4,B:5,"F#":6,"C#":7,F:1,Bb:2,Eb:3,Ab:4,Db:5,Gb:6,Cb:7},Ae={C:[0,2,4,5,7,9,11],G:[7,9,11,0,2,4,6],D:[2,4,6,7,9,11,1],A:[9,11,1,2,4,6,8],E:[4,6,8,9,11,1,3],B:[11,1,3,4,6,8,10],"F#":[6,7,9,10,0,2,4],"C#":[1,3,5,6,8,10,0],F:[5,7,9,10,0,2,4],Bb:[10,0,2,3,5,7,9],Eb:[3,5,7,8,10,0,2],Ab:[8,10,0,1,3,5,7],Db:[1,3,5,6,8,10,0],Gb:[6,8,10,11,1,3,5],Cb:[11,1,3,4,6,8,10]},_e=Array.from({length:12},(e,n)=>n);function L(e){const n=$e({min:0,max:e.length-1});return e[n]}function $e(e){const n=Math.random(),t=Ee(n,{min:0,max:1},e);return Math.round(t)}function U(){return L(_e)}function me(e){const n=Ae[e];return L(n)}function Se(){return L([3,4])}function Ee(e,n,t){return(e-n.min)/(n.max-n.min)*(t.max-t.min)+t.min}var we=_("<div id=note-oriety-vex-flow>");const De="note-oriety-vex-flow";function ve(e){let n;const t=X(()=>z[e.signature()][e.pitchClassKind()]);return te(s=>{if(!n)return!1;s&&(n.innerHTML="");const i=100+ye[e.signature()]*10,l=120,r=10,o=`0 ${r} ${i} ${l-r}`,c=new le({renderer:{elementId:De,width:i,height:l,backend:se.SVG}}),f=c.EasyScore(),d=f.notes(`${t()}${e.octave()}/w`,{clef:e.clef});c.System().addStave({voices:[f.voice(d)]}).addClef(e.clef).addKeySignature(e.signature()),c.draw();const a=n.firstChild;return a.removeAttribute("width"),a.removeAttribute("height"),a.removeAttribute("style"),a.setAttribute("viewBox",o),a.classList.add(q.svg),n.classList.add(q.ref),!0},!1),(()=>{var s=we(),i=n;return typeof i=="function"?ae(i,s):n=s,s})()}const K=Symbol("store-raw"),m=Symbol("store-node"),g=Symbol("store-has"),J=Symbol("store-self");function Q(e){let n=e[A];if(!n&&(Object.defineProperty(e,A,{value:n=new Proxy(e,Fe)}),!Array.isArray(e))){const t=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let i=0,l=t.length;i<l;i++){const r=t[i];s[r].get&&Object.defineProperty(e,r,{enumerable:s[r].enumerable,get:s[r].get.bind(n)})}}return n}function O(e){let n;return e!=null&&typeof e=="object"&&(e[A]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function D(e,n=new Set){let t,s,i,l;if(t=e!=null&&e[K])return t;if(!O(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let r=0,o=e.length;r<o;r++)i=e[r],(s=D(i,n))!==i&&(e[r]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const r=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let c=0,f=r.length;c<f;c++)l=r[c],!o[l].get&&(i=e[l],(s=D(i,n))!==i&&(e[l]=s))}return e}function F(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function v(e,n,t){if(e[n])return e[n];const[s,i]=oe(t,{equals:!1,internal:!0});return s.$=i,e[n]=s}function Ge(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===A||n===m||(delete t.value,delete t.writable,t.get=()=>e[A][n]),t}function Z(e){P()&&v(F(e,m),J)()}function Oe(e){return Z(e),Reflect.ownKeys(e)}const Fe={get(e,n,t){if(n===K)return e;if(n===A)return t;if(n===M)return Z(e),t;const s=F(e,m),i=s[n];let l=i?i():e[n];if(n===m||n===g||n==="__proto__")return l;if(!i){const r=Object.getOwnPropertyDescriptor(e,n);P()&&(typeof l!="function"||e.hasOwnProperty(n))&&!(r&&r.get)&&(l=v(s,n,l)())}return O(l)?Q(l):l},has(e,n){return n===K||n===A||n===M||n===m||n===g||n==="__proto__"?!0:(P()&&v(F(e,g),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Oe,getOwnPropertyDescriptor:Ge};function B(e,n,t,s=!1){if(!s&&e[n]===t)return;const i=e[n],l=e.length;t===void 0?(delete e[n],e[g]&&e[g][n]&&i!==void 0&&e[g][n].$()):(e[n]=t,e[g]&&e[g][n]&&i===void 0&&e[g][n].$());let r=F(e,m),o;if((o=v(r,n,i))&&o.$(()=>t),Array.isArray(e)&&e.length!==l){for(let c=e.length;c<l;c++)(o=r[c])&&o.$();(o=v(r,"length",l))&&o.$(e.length)}(o=r[J])&&o.$()}function p(e,n){const t=Object.keys(n);for(let s=0;s<t.length;s+=1){const i=t[s];B(e,i,n[i])}}function Be(e,n){if(typeof n=="function"&&(n=n(e)),n=D(n),Array.isArray(n)){if(e===n)return;let t=0,s=n.length;for(;t<s;t++){const i=n[t];e[t]!==i&&B(e,t,i)}B(e,"length",s)}else p(e,n)}function w(e,n,t=[]){let s,i=e;if(n.length>1){s=n.shift();const r=typeof s,o=Array.isArray(e);if(Array.isArray(s)){for(let c=0;c<s.length;c++)w(e,[s[c]].concat(n),t);return}else if(o&&r==="function"){for(let c=0;c<e.length;c++)s(e[c],c)&&w(e,[c].concat(n),t);return}else if(o&&r==="object"){const{from:c=0,to:f=e.length-1,by:d=1}=s;for(let a=c;a<=f;a+=d)w(e,[a].concat(n),t);return}else if(n.length>1){w(e[s],n,[s].concat(t));return}i=e[s],t=[s].concat(t)}let l=n[0];typeof l=="function"&&(l=l(i,t),l===i)||s===void 0&&l==null||(l=D(l),s===void 0||O(i)&&O(l)&&!Array.isArray(l)?p(i,l):B(e,s,l))}function ke(...[e,n]){const t=D(e||{}),s=Array.isArray(t),i=Q(t);function l(...r){ie(()=>{s&&r.length===1?Be(t,r[0]):w(t,r)})}return[i,l]}const Te="_panel_6udiv_1",Pe={panel:Te};var xe=_("<div><label for=input.key><span>Key Signature </span><select name=input.key id=input.key></select></label><label for=input.clef><span> Clef </span><select></select></label><label for=input.chromatics><span> Chromatics </span><input type=checkbox>"),W=_("<option>");function Ke(e){return(()=>{var n=xe(),t=n.firstChild,s=t.firstChild,i=s.nextSibling,l=t.nextSibling,r=l.firstChild,o=r.nextSibling,c=l.nextSibling,f=c.firstChild,d=f.nextSibling;return i.addEventListener("change",a=>{var u;(u=e==null?void 0:e.onChangeKeySignature)==null||u.call(e,a.target.value)}),h(i,()=>Object.keys(z).map(a=>(()=>{var u=W();return u.value=a,h(u,a),C(()=>u.selected=e.keySignature==a),u})())),o.addEventListener("change",a=>{var u;return(u=e==null?void 0:e.onChangeClef)==null?void 0:u.call(e,a.target.value)}),h(o,()=>["treble","alto","bass"].map(a=>(()=>{var u=W();return u.value=a,h(u,a),u})())),d.addEventListener("change",a=>{var u;return(u=e.onChangeChromatics)==null?void 0:u.call(e,a.currentTarget.checked)}),C(()=>y(n,Pe.panel)),C(()=>d.checked=e.chromatics),n})()}var Le=_("<ul class=piano>"),Ne=_("<li>");function je(e){return(()=>{var n=Le();return h(n,()=>["white c","black cs","white d","black ds","white e","white f","black fs","white g","black gs","white a","black as","white b"].map((t,s)=>(()=>{var i=Ne();return i.$$click=()=>{var l;return(l=e.onClick)==null?void 0:l.call(e,s)},y(i,`key ${t}`),i})())),n})()}fe(["click"]);const Ie="_list_8jld2_1",T={list:Ie};var Re=_("<dl><div><dt>Streak</dt><dd> </dd></div><div><dt>Accuracy</dt><dd>%</dd><dd>(<!> of <!>)");function Me(e){const n=()=>e.outcome.correct+e.outcome.incorrect,t=()=>n()<=0?0:Math.trunc(100*(e.outcome.correct/n()));return(()=>{var s=Re(),i=s.firstChild,l=i.firstChild,r=l.nextSibling;r.firstChild;var o=i.nextSibling,c=o.firstChild,f=c.nextSibling,d=f.firstChild,a=f.nextSibling,u=a.firstChild,S=u.nextSibling,k=S.nextSibling,N=k.nextSibling;return N.nextSibling,h(r,()=>e.streak,null),h(f,t,d),h(a,()=>e.outcome.correct,S),h(a,n,N),C(b=>{var j=T.list,I=T.streak,R=T.accuracy;return j!==b.e&&y(s,b.e=j),I!==b.t&&y(i,b.t=I),R!==b.a&&y(o,b.a=R),b},{e:void 0,t:void 0,a:void 0}),s})()}var He=_("<main><div>");const Ve={treble:1,alto:0,bass:-1};function Ye(){const[e,n]=ke({pitchClassKind:U(),signature:"C",altoOctave:4,outcome:{correct:0,incorrect:0},showChromatics:!0,streak:0,clef:"treble"}),t=X(()=>e.altoOctave+Ve[e.clef]);function s(){let o;for(;;)if(o=e.showChromatics?U():me(e.signature),o!==e.pitchClassKind){n("pitchClassKind",o);break}n("altoOctave",Se())}function i(o){n("showChromatics",o),s()}function l(o){if(o!==e.pitchClassKind){n("streak",0),n("outcome","incorrect",c=>c+1);return}n("streak",c=>c+1),n("outcome","correct",c=>c+1),s()}function r(o){n("clef",o)}return(()=>{var o=He(),c=o.firstChild;return h(o,E(ve,{pitchClassKind:()=>e.pitchClassKind,signature:()=>e.signature,octave:t,get clef(){return e.clef}}),c),h(c,E(Me,{get outcome(){return e.outcome},get streak(){return e.streak}}),null),h(c,E(Ke,{get chromatics(){return e.showChromatics},get keySignature(){return e.signature},onChangeChromatics:i,onChangeKeySignature:f=>n("signature",f),onChangeClef:r,get clef(){return e.clef}}),null),h(o,E(je,{onClick:f=>l(f)}),null),C(f=>{var d=Y.main,a=Y.panel;return d!==f.e&&y(o,f.e=d),a!==f.t&&y(c,f.t=a),f},{e:void 0,t:void 0}),o})()}ce(()=>E(Ye,{}),document.body);
