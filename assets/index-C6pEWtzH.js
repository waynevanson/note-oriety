import{c as ue,a as b,u as j,s as z,$ as E,b as V,g as R,d as ae,e as de,f as S,h as he,i as Z,j as _e,k as ye}from"./solid-js-7pcJbErm.js";import{F as ge,R as Ce}from"./vexflow-DwtmvLuk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function be(e,n,t){let o=t.length,i=n.length,l=o,f=0,c=0,s=n[i-1].nextSibling,u=null;for(;f<i||c<l;){if(n[f]===t[c]){f++,c++;continue}for(;n[i-1]===t[l-1];)i--,l--;if(i===f){const r=l<o?c?t[c-1].nextSibling:t[l-c]:s;for(;c<l;)e.insertBefore(t[c++],r)}else if(l===c)for(;f<i;)(!u||!u.has(n[f]))&&n[f].remove(),f++;else if(n[f]===t[l-1]&&t[c]===n[i-1]){const r=n[--i].nextSibling;e.insertBefore(t[c++],n[f++].nextSibling),e.insertBefore(t[--l],r),n[i]=t[l]}else{if(!u){u=new Map;let a=c;for(;a<l;)u.set(t[a],a++)}const r=u.get(n[f]);if(r!=null)if(c<r&&r<l){let a=f,d=1,h;for(;++a<i&&a<l&&!((h=u.get(n[a]))==null||h!==r+d);)d++;if(d>r-c){const y=n[f];for(;c<r;)e.insertBefore(t[c++],y)}else e.replaceChild(t[c++],n[f++])}else f++;else n[f++].remove()}}}const Y="_$DX_DELEGATE";function $e(e,n,t,o={}){let i;return ue(l=>{i=l,n===document?e():g(n,e(),n.firstChild?null:void 0,t)},o.owner),()=>{i(),n.textContent=""}}function m(e,n,t){let o;const i=()=>{const f=document.createElement("template");return f.innerHTML=e,f.content.firstChild},l=()=>(o||(o=i())).cloneNode(!0);return l.cloneNode=l,l}function ee(e,n=window.document){const t=n[Y]||(n[Y]=new Set);for(let o=0,i=e.length;o<i;o++){const l=e[o];t.has(l)||(t.add(l),n.addEventListener(l,me))}}function A(e,n){ne(e)||(n==null?e.removeAttribute("class"):e.className=n)}function Ae(e,n,t){return j(()=>e(n,t))}function g(e,n,t,o){if(t!==void 0&&!o&&(o=[]),typeof n!="function")return P(e,n,o,t);b(i=>P(e,n(),i,t),o)}function ne(e){return!!z.context&&!z.done&&(!e||e.isConnected)}function me(e){let n=e.target;const t=`$$${e.type}`,o=e.target,i=e.currentTarget,l=s=>Object.defineProperty(e,"target",{configurable:!0,value:s}),f=()=>{const s=n[t];if(s&&!n.disabled){const u=n[`${t}Data`];if(u!==void 0?s.call(n,u,e):s.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&l(n.host),!0},c=()=>{for(;f()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const s=e.composedPath();l(s[0]);for(let u=0;u<s.length-2&&(n=s[u],!!f());u++){if(n._$host){n=n._$host,c();break}if(n.parentNode===i)break}}else c();l(o)}function P(e,n,t,o,i){const l=ne(e);if(l){!t&&(t=[...e.childNodes]);let s=[];for(let u=0;u<t.length;u++){const r=t[u];r.nodeType===8&&r.data.slice(0,2)==="!$"?r.remove():s.push(r)}t=s}for(;typeof t=="function";)t=t();if(n===t)return t;const f=typeof n,c=o!==void 0;if(e=c&&t[0]&&t[0].parentNode||e,f==="string"||f==="number"){if(l||f==="number"&&(n=n.toString(),n===t))return t;if(c){let s=t[0];s&&s.nodeType===3?s.data!==n&&(s.data=n):s=document.createTextNode(n),t=v(e,t,o,s)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||f==="boolean"){if(l)return t;t=v(e,t,o)}else{if(f==="function")return b(()=>{let s=n();for(;typeof s=="function";)s=s();t=P(e,s,t,o)}),()=>t;if(Array.isArray(n)){const s=[],u=t&&Array.isArray(t);if(M(s,n,t,i))return b(()=>t=P(e,s,t,o,!0)),()=>t;if(l){if(!s.length)return t;if(o===void 0)return t=[...e.childNodes];let r=s[0];if(r.parentNode!==e)return t;const a=[r];for(;(r=r.nextSibling)!==o;)a.push(r);return t=a}if(s.length===0){if(t=v(e,t,o),c)return t}else u?t.length===0?J(e,s,o):be(e,t,s):(t&&v(e),J(e,s));t=s}else if(n.nodeType){if(l&&n.parentNode)return t=c?[n]:n;if(Array.isArray(t)){if(c)return t=v(e,t,o,n);v(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function M(e,n,t,o){let i=!1;for(let l=0,f=n.length;l<f;l++){let c=n[l],s=t&&t[e.length],u;if(!(c==null||c===!0||c===!1))if((u=typeof c)=="object"&&c.nodeType)e.push(c);else if(Array.isArray(c))i=M(e,c,s)||i;else if(u==="function")if(o){for(;typeof c=="function";)c=c();i=M(e,Array.isArray(c)?c:[c],Array.isArray(s)?s:[s])||i}else e.push(c),i=!0;else{const r=String(c);s&&s.nodeType===3&&s.data===r?e.push(s):e.push(document.createTextNode(r))}}return i}function J(e,n,t=null){for(let o=0,i=n.length;o<i;o++)e.insertBefore(n[o],t)}function v(e,n,t,o){if(t===void 0)return e.textContent="";const i=o||document.createTextNode("");if(n.length){let l=!1;for(let f=n.length-1;f>=0;f--){const c=n[f];if(i!==c){const s=c.parentNode===e;!l&&!f?s?e.replaceChild(i,c):e.insertBefore(i,t):s&&c.remove()}else l=!0}}else e.insertBefore(i,t);return[i]}const H=Symbol("store-raw"),G=Symbol("store-node"),$=Symbol("store-has"),te=Symbol("store-self");function ie(e){let n=e[E];if(!n&&(Object.defineProperty(e,E,{value:n=new Proxy(e,Ee)}),!Array.isArray(e))){const t=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let i=0,l=t.length;i<l;i++){const f=t[i];o[f].get&&Object.defineProperty(e,f,{enumerable:o[f].enumerable,get:o[f].get.bind(n)})}}return n}function w(e){let n;return e!=null&&typeof e=="object"&&(e[E]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function T(e,n=new Set){let t,o,i,l;if(t=e!=null&&e[H])return t;if(!w(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let f=0,c=e.length;f<c;f++)i=e[f],(o=T(i,n))!==i&&(e[f]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const f=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let s=0,u=f.length;s<u;s++)l=f[s],!c[l].get&&(i=e[l],(o=T(i,n))!==i&&(e[l]=o))}return e}function B(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function F(e,n,t){if(e[n])return e[n];const[o,i]=de(t,{equals:!1,internal:!0});return o.$=i,e[n]=o}function Se(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===E||n===G||(delete t.value,delete t.writable,t.get=()=>e[E][n]),t}function oe(e){R()&&F(B(e,G),te)()}function we(e){return oe(e),Reflect.ownKeys(e)}const Ee={get(e,n,t){if(n===H)return e;if(n===E)return t;if(n===V)return oe(e),t;const o=B(e,G),i=o[n];let l=i?i():e[n];if(n===G||n===$||n==="__proto__")return l;if(!i){const f=Object.getOwnPropertyDescriptor(e,n);R()&&(typeof l!="function"||e.hasOwnProperty(n))&&!(f&&f.get)&&(l=F(o,n,l)())}return w(l)?ie(l):l},has(e,n){return n===H||n===E||n===V||n===G||n===$||n==="__proto__"?!0:(R()&&F(B(e,$),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:we,getOwnPropertyDescriptor:Se};function C(e,n,t,o=!1){if(!o&&e[n]===t)return;const i=e[n],l=e.length;t===void 0?(delete e[n],e[$]&&e[$][n]&&i!==void 0&&e[$][n].$()):(e[n]=t,e[$]&&e[$][n]&&i===void 0&&e[$][n].$());let f=B(e,G),c;if((c=F(f,n,i))&&c.$(()=>t),Array.isArray(e)&&e.length!==l){for(let s=e.length;s<l;s++)(c=f[s])&&c.$();(c=F(f,"length",l))&&c.$(e.length)}(c=f[te])&&c.$()}function le(e,n){const t=Object.keys(n);for(let o=0;o<t.length;o+=1){const i=t[o];C(e,i,n[i])}}function Oe(e,n){if(typeof n=="function"&&(n=n(e)),n=T(n),Array.isArray(n)){if(e===n)return;let t=0,o=n.length;for(;t<o;t++){const i=n[t];e[t]!==i&&C(e,t,i)}C(e,"length",o)}else le(e,n)}function N(e,n,t=[]){let o,i=e;if(n.length>1){o=n.shift();const f=typeof o,c=Array.isArray(e);if(Array.isArray(o)){for(let s=0;s<o.length;s++)N(e,[o[s]].concat(n),t);return}else if(c&&f==="function"){for(let s=0;s<e.length;s++)o(e[s],s)&&N(e,[s].concat(n),t);return}else if(c&&f==="object"){const{from:s=0,to:u=e.length-1,by:r=1}=o;for(let a=s;a<=u;a+=r)N(e,[a].concat(n),t);return}else if(n.length>1){N(e[o],n,[o].concat(t));return}i=e[o],t=[o].concat(t)}let l=n[0];typeof l=="function"&&(l=l(i,t),l===i)||o===void 0&&l==null||(l=T(l),o===void 0||w(i)&&w(l)&&!Array.isArray(l)?le(i,l):C(e,o,l))}function ve(...[e,n]){const t=T(e||{}),o=Array.isArray(t),i=ie(t);function l(...f){ae(()=>{o&&f.length===1?Oe(t,f[0]):N(t,f)})}return[i,l]}const U=Symbol("store-root");function D(e,n,t,o,i){const l=n[t];if(e===l)return;const f=Array.isArray(e);if(t!==U&&(!w(e)||!w(l)||f!==Array.isArray(l)||i&&e[i]!==l[i])){C(n,t,e);return}if(f){if(e.length&&l.length&&(!o||i&&e[0]&&e[0][i]!=null)){let u,r,a,d,h,y,x,O;for(a=0,d=Math.min(l.length,e.length);a<d&&(l[a]===e[a]||i&&l[a]&&e[a]&&l[a][i]===e[a][i]);a++)D(e[a],l,a,o,i);const I=new Array(e.length),K=new Map;for(d=l.length-1,h=e.length-1;d>=a&&h>=a&&(l[d]===e[h]||i&&l[a]&&e[a]&&l[d][i]===e[h][i]);d--,h--)I[h]=l[d];if(a>h||a>d){for(r=a;r<=h;r++)C(l,r,e[r]);for(;r<e.length;r++)C(l,r,I[r]),D(e[r],l,r,o,i);l.length>e.length&&C(l,"length",e.length);return}for(x=new Array(h+1),r=h;r>=a;r--)y=e[r],O=i&&y?y[i]:y,u=K.get(O),x[r]=u===void 0?-1:u,K.set(O,r);for(u=a;u<=d;u++)y=l[u],O=i&&y?y[i]:y,r=K.get(O),r!==void 0&&r!==-1&&(I[r]=l[u],r=x[r],K.set(O,r));for(r=a;r<e.length;r++)r in I?(C(l,r,I[r]),D(e[r],l,r,o,i)):C(l,r,e[r])}else for(let u=0,r=e.length;u<r;u++)D(e[u],l,u,o,i);l.length>e.length&&C(l,"length",e.length);return}const c=Object.keys(e);for(let u=0,r=c.length;u<r;u++)D(e[c[u]],l,c[u],o,i);const s=Object.keys(l);for(let u=0,r=s.length;u<r;u++)e[s[u]]===void 0&&C(l,s[u],void 0)}function De(e,n={}){const{merge:t,key:o="id"}=n,i=T(e);return l=>{if(!w(l)||!w(i))return i;const f=D(i,{[U]:l},U,t,o);return f===void 0?l:f}}const Ge="_main_xoc0q_1",Te="_inputs_xoc0q_17",W={main:Ge,inputs:Te},se={F:["C","Db","D","Eb","E","F","Gb","G","Ab","A","B","Bn"],Bb:["C","Db","D","E","En","F","Gb","G","Ab","A","B","Bn"],Eb:["C","Db","D","E","En","F","Gb","G","A","An","B","Bn"],Ab:["C","D","Dn","E","En","F","Gb","G","A","An","B","Bn"],Db:["C","D","Dn","E","En","F","G","Gn","A","An","B","Bn"],Gb:["Cn","D","Dn","E","En","F","G","Gn","A","An","B","C"],Cb:["Cn","D","Dn","E","F","Fn","G","Gn","A","An","B","C"]},re={G:["C","C#","D","D#","E","Fn","F","G","G#","A","A#","B"],D:["Cn","C","D","D#","E","Fn","F","G","G#","A","A#","B"],A:["Cn","C","D","D#","E","Fn","F","Gn","G","A","A#","B"],E:["Cn","C","Dn","D","E","Fn","F","Gn","G","A","A#","B"],B:["Cn","C","Dn","D","E","Fn","F","Gn","G","An","A","B"],"F#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","B"],"C#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","Bn"]},Ie=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],ke={C:Ie,...re,...se},Ne={C:0,G:1,D:2,A:3,E:4,B:5,"F#":6,"C#":7,F:1,Bb:2,Eb:3,Ab:4,Db:5,Gb:6,Cb:7},ce={C:[0,2,4,5,7,9,11],G:[7,9,11,0,2,4,6],D:[2,4,6,7,9,11,1],A:[9,11,1,2,4,6,8],E:[4,6,8,9,11,1,3],B:[11,1,3,4,6,8,10],"F#":[6,7,9,10,0,2,4],"C#":[1,3,5,6,8,10,0],F:[5,7,9,10,0,2,4],Bb:[10,0,2,3,5,7,9],Eb:[3,5,7,8,10,0,2],Ab:[8,10,0,1,3,5,7],Db:[1,3,5,6,8,10,0],Gb:[6,8,10,11,1,3,5],Cb:[11,1,3,4,6,8,10]},Fe=Array.from({length:12},(e,n)=>n);function p(e){const n=Ke({min:0,max:e.length-1});return e[n]}function Ke(e){const n=Math.random(),t=xe(n,{min:0,max:1},e);return Math.round(t)}function fe(){return p(Fe)}function Pe(e){const n=ce[e];return p(n)}function Be(){return p([3,4])}function xe(e,n,t){return(e-n.min)/(n.max-n.min)*(t.max-t.min)+t.min}const Le="_panel_12sdg_1",je={panel:Le};var Re=m("<div><label for=input.clef><span> Clef </span><select></select></label><label for=input.chromatics><span> Chromatics </span><input type=checkbox></label><button>Reset"),q=m("<option>"),Me=m("<label for=input.key><span>Key Signature </span><select name=input.key id=input.key><optgroup label=Natural><option value=C>C</option></optgroup><optgroup label=Flats></optgroup><optgroup label=Sharps>");function He(e){return(()=>{var n=Re(),t=n.firstChild,o=t.firstChild,i=o.nextSibling,l=t.nextSibling,f=l.firstChild,c=f.nextSibling,s=l.nextSibling;return g(n,S(Ue,{get value(){return e.keySignature},get onChange(){return e.onChangeKeySignature}}),t),i.addEventListener("change",u=>{var r;return(r=e==null?void 0:e.onChangeClef)==null?void 0:r.call(e,u.target.value)}),g(i,()=>["treble","alto","bass"].map(u=>(()=>{var r=q();return r.value=u,g(r,u),r})())),c.addEventListener("change",u=>{var r;return(r=e.onChangeChromatics)==null?void 0:r.call(e,u.currentTarget.checked)}),s.$$click=()=>{var u;return(u=e==null?void 0:e.onClickReset)==null?void 0:u.call(e)},b(()=>A(n,je.panel)),b(()=>c.checked=e.chromatics),n})()}function Ue(e){return(()=>{var n=Me(),t=n.firstChild,o=t.nextSibling,i=o.firstChild,l=i.nextSibling,f=l.nextSibling;return o.addEventListener("change",c=>{var s;(s=e==null?void 0:e.onChange)==null||s.call(e,c.target.value)}),g(l,()=>Object.keys(se).map(c=>(()=>{var s=q();return s.value=c,g(s,c),b(()=>s.selected=e.value==c),s})())),g(f,()=>Object.keys(re).map(c=>(()=>{var s=q();return s.value=c,g(s,c),b(()=>s.selected=e.value==c),s})())),n})()}ee(["click"]);const qe="_list_n755w_1",L={list:qe};var pe=m("<dl><div><dt>Streak</dt><dd> </dd></div><div><dt>Accuracy</dt><dd>%");function ze(e){const n=()=>e.outcome.correct+e.outcome.incorrect,t=()=>n()<=0?0:Math.trunc(100*(e.outcome.correct/n()));return(()=>{var o=pe(),i=o.firstChild,l=i.firstChild,f=l.nextSibling;f.firstChild;var c=i.nextSibling,s=c.firstChild,u=s.nextSibling,r=u.firstChild;return g(f,()=>e.streak,null),g(u,t,r),b(a=>{var d=L.list,h=L.streak,y=L.accuracy;return d!==a.e&&A(o,a.e=d),h!==a.t&&A(i,a.t=h),y!==a.a&&A(c,a.a=y),a},{e:void 0,t:void 0,a:void 0}),o})()}const Ve="_panel_wvtia_1",Ye={panel:Ve};var Je=m("<aside>");function We(e){const[n,t]=he(e,["streak","outcome"]);return(()=>{var o=Je();return g(o,S(ze,n),null),g(o,S(He,t),null),b(()=>A(o,Ye.panel)),o})()}const Xe="_piano_o7yey_1",Qe="_key_o7yey_7",Ze="_c_o7yey_15",en="_cs_o7yey_16",nn="_fs_o7yey_17",tn="_black_o7yey_21",on="_white_o7yey_37",ln="_d_o7yey_73",sn="_e_o7yey_79",rn="_f_o7yey_17",cn="_g_o7yey_91",fn="_a_o7yey_97",un="_b_o7yey_21",_={piano:Xe,key:Qe,c:Ze,cs:en,fs:nn,black:tn,white:on,d:ln,e:sn,f:rn,g:cn,a:fn,b:un};var an=m("<ul>"),dn=m("<li tabindex=0 role=button>");function hn(e){return(()=>{var n=an();return g(n,()=>[`${_.white} ${_.c}`,`${_.black} ${_.cs}`,`${_.white} ${_.d}`,`${_.black} ${_.ds}`,`${_.white} ${_.e}`,`${_.white} ${_.f}`,`${_.black} ${_.fs}`,`${_.white} ${_.g}`,`${_.black} ${_.gs}`,`${_.white} ${_.a}`,`${_.black} ${_.s}`,`${_.white} ${_.b}`].map((t,o)=>S(_n,{class:t,kind:o,get onClick(){return e.onClick}}))),b(()=>A(n,_.piano)),n})()}function _n(e){return(()=>{var n=dn();return n.$$click=()=>{var t;return(t=e.onClick)==null?void 0:t.call(e,e.kind)},b(()=>A(n,`${_.key} ${e.class}`)),n})()}ee(["click"]);const yn="_note_1mqz3_1",gn="_svg_1mqz3_5",Cn="_ref_1mqz3_10",X={note:yn,svg:gn,ref:Cn};var bn=m("<div id=note-oriety-vex-flow>");const $n="note-oriety-vex-flow";function An(e){let n;const t=Z(()=>ke[e.signature()][e.pitchClassKind()]);return _e(o=>{if(!n)return!1;o&&(n.innerHTML="");const i=100+Ne[e.signature()]*10,l=110,f=20,c=`0 ${f} ${i} ${l-f}`,s=new ge({renderer:{elementId:$n,width:i,height:l,backend:Ce.SVG}}),u=s.EasyScore(),r=u.notes(`${t()}${e.octave()}/w`,{clef:e.clef});s.System().addStave({voices:[u.voice(r)]}).addClef(e.clef).addKeySignature(e.signature()),s.draw();const a=n.firstChild;return a.removeAttribute("width"),a.removeAttribute("height"),a.removeAttribute("style"),a.setAttribute("viewBox",c),a.classList.add(X.svg),n.classList.add(X.ref),!0},!1),(()=>{var o=bn(),i=n;return typeof i=="function"?Ae(i,o):n=o,o})()}var mn=e=>(typeof e.clear=="function"||(e.clear=()=>{let n;for(;n=e.key(0);)e.removeItem(n)}),e),Sn=["clear","getItem","getAll","setItem","removeItem","key","getLength"],wn=e=>(e.withOptions=n=>Sn.reduce((t,o)=>(typeof e[o]=="function"&&(t[o]=(...i)=>(i[e[o].length-1]=n,e[o](...i))),t),{get length(){return e.length},withOptions:t=>e.withOptions(t)}),e),En={domain:"Domain",expires:"Expires",path:"Path",secure:"Secure",httpOnly:"HttpOnly",maxAge:"Max-Age",sameSite:"SameSite"};function On(e){if(!e)return"";const n=Object.entries(e).map(([t,o])=>{const i=En[t];if(i)return o instanceof Date?`${i}=${o.toUTCString()}`:typeof o=="boolean"?o?`${i}`:void 0:`${i}=${o}`}).filter(t=>!!t);return n.length!=0?`; ${n.join("; ")}`:""}function vn(e,n){var o;const t=(o=e.match(`(^|;)\\s*${n}\\s*=\\s*([^;]+)`))==null?void 0:o.pop();return t!=null?decodeURIComponent(t):null}var k=wn(mn({_read:()=>document.cookie,_write:(e,n,t)=>{document.cookie=`${e}=${n}${On(t)}`},getItem:(e,n)=>vn(k._read(n),e),setItem:(e,n,t)=>{k._write(e,n.replace(/[\u00c0-\uffff\&;]/g,o=>encodeURIComponent(o)),t)},removeItem:(e,n)=>{k._write(e,"deleted",{...n,expires:new Date(0)})},key:(e,n)=>{let t=null,o=0;return k._read(n).replace(/(?:^|;)\s*(.+?)\s*=\s*[^;]+/g,(i,l)=>(!t&&l&&o++===e&&(t=l),"")),t},getLength:e=>{let n=0;return k._read(e).replace(/(?:^|;)\s*.+?\s*=\s*[^;]+/g,t=>(n+=t?1:0,"")),n},get length(){return this.getLength()}}));function Dn(e,n={}){var r;const t=n.storage||globalThis.localStorage,o=n.name||`storage-${ye()}`;if(!t)return[e[0],e[1],null];const i=n.storageOptions,l=n.serialize||JSON.stringify.bind(JSON),f=n.deserialize||JSON.parse.bind(JSON),c=t.getItem(o,i),s=typeof e[0]=="function"?a=>{try{const d=f(a);e[1](()=>d)}catch{}}:a=>{try{const d=f(a);e[1](De(d))}catch{}};let u=!0;if(c instanceof Promise?c.then(a=>u&&a&&s(a)):c&&s(c),typeof((r=n.sync)==null?void 0:r[0])=="function"){const a=typeof e[0]=="function"?e[0]:()=>e[0];n.sync[0](d=>{d.key!==o||(d.url||globalThis.location.href)!==globalThis.location.href||d.newValue===l(j(a))||s(d.newValue)})}return[e[0],typeof e[0]=="function"?a=>{var y;const d=e[1](a),h=a!=null?l(d):a;return(y=n.sync)==null||y[1](o,h),h!=null?t.setItem(o,h,i):t.removeItem(o,i),u=!1,d}:(...a)=>{var h;e[1](...a);const d=l(j(()=>e[0]));(h=n.sync)==null||h[1](o,d),t.setItem(o,d,i),u=!1},c]}var Gn=m("<main><div>");const Tn={treble:1,alto:0,bass:-1},Q={pitchClassKind:fe(),signature:"C",altoOctave:4,outcome:{correct:0,incorrect:0},showChromatics:!0,streak:0,clef:"treble"};function In(){const[e,n]=Dn(ve(structuredClone(Q))),t=Z(()=>e.altoOctave+Tn[e.clef]);function o(){let u;for(;;)if(u=e.showChromatics?fe():Pe(e.signature),u!==e.pitchClassKind){n("pitchClassKind",u);break}n("altoOctave",Be())}function i(u){n("showChromatics",u),!ce[e.signature].includes(e.pitchClassKind)&&o()}function l(u){if(u!==e.pitchClassKind){n("streak",0),n("outcome","incorrect",r=>r+1);return}n("streak",r=>r+1),n("outcome","correct",r=>r+1),o()}function f(u){n("clef",u)}function c(u){n("signature",u)}function s(){n(structuredClone(Q))}return(()=>{var u=Gn(),r=u.firstChild;return g(u,S(An,{pitchClassKind:()=>e.pitchClassKind,signature:()=>e.signature,octave:t,get clef(){return e.clef}}),r),g(r,S(We,{get chromatics(){return e.showChromatics},get clef(){return e.clef},get keySignature(){return e.signature},get outcome(){return e.outcome},get streak(){return e.streak},onChangeChromatics:i,onChangeClef:f,onChangeKeySignature:c,onClickReset:s}),null),g(r,S(hn,{onClick:a=>l(a)}),null),b(a=>{var d=W.main,h=W.inputs;return d!==a.e&&A(u,a.e=d),h!==a.t&&A(r,a.t=h),a},{e:void 0,t:void 0}),u})()}$e(()=>S(In,{}),document.body);
