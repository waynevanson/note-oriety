import{c as ue,a as y,u as j,s as V,$ as E,b as Y,g as R,d as ae,e as de,f as S,h as he,i as Z,j as _e,k as ge}from"./solid-js-7pcJbErm.js";import{F as be,R as Ce}from"./vexflow-DwtmvLuk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function ye(e,n,t){let o=t.length,i=n.length,l=o,u=0,r=0,s=n[i-1].nextSibling,f=null;for(;u<i||r<l;){if(n[u]===t[r]){u++,r++;continue}for(;n[i-1]===t[l-1];)i--,l--;if(i===u){const c=l<o?r?t[r-1].nextSibling:t[l-r]:s;for(;r<l;)e.insertBefore(t[r++],c)}else if(l===r)for(;u<i;)(!f||!f.has(n[u]))&&n[u].remove(),u++;else if(n[u]===t[l-1]&&t[r]===n[i-1]){const c=n[--i].nextSibling;e.insertBefore(t[r++],n[u++].nextSibling),e.insertBefore(t[--l],c),n[i]=t[l]}else{if(!f){f=new Map;let a=r;for(;a<l;)f.set(t[a],a++)}const c=f.get(n[u]);if(c!=null)if(r<c&&c<l){let a=u,d=1,h;for(;++a<i&&a<l&&!((h=f.get(n[a]))==null||h!==c+d);)d++;if(d>c-r){const g=n[u];for(;r<c;)e.insertBefore(t[r++],g)}else e.replaceChild(t[r++],n[u++])}else u++;else n[u++].remove()}}}const p="_$DX_DELEGATE";function $e(e,n,t,o={}){let i;return ue(l=>{i=l,n===document?e():b(n,e(),n.firstChild?null:void 0,t)},o.owner),()=>{i(),n.textContent=""}}function m(e,n,t){let o;const i=()=>{const u=document.createElement("template");return u.innerHTML=e,u.content.firstChild},l=()=>(o||(o=i())).cloneNode(!0);return l.cloneNode=l,l}function ee(e,n=window.document){const t=n[p]||(n[p]=new Set);for(let o=0,i=e.length;o<i;o++){const l=e[o];t.has(l)||(t.add(l),n.addEventListener(l,me))}}function $(e,n){ne(e)||(n==null?e.removeAttribute("class"):e.className=n)}function Ae(e,n,t){return j(()=>e(n,t))}function b(e,n,t,o){if(t!==void 0&&!o&&(o=[]),typeof n!="function")return B(e,n,o,t);y(i=>B(e,n(),i,t),o)}function ne(e){return!!V.context&&!V.done&&(!e||e.isConnected)}function me(e){let n=e.target;const t=`$$${e.type}`,o=e.target,i=e.currentTarget,l=s=>Object.defineProperty(e,"target",{configurable:!0,value:s}),u=()=>{const s=n[t];if(s&&!n.disabled){const f=n[`${t}Data`];if(f!==void 0?s.call(n,f,e):s.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&l(n.host),!0},r=()=>{for(;u()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const s=e.composedPath();l(s[0]);for(let f=0;f<s.length-2&&(n=s[f],!!u());f++){if(n._$host){n=n._$host,r();break}if(n.parentNode===i)break}}else r();l(o)}function B(e,n,t,o,i){const l=ne(e);if(l){!t&&(t=[...e.childNodes]);let s=[];for(let f=0;f<t.length;f++){const c=t[f];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():s.push(c)}t=s}for(;typeof t=="function";)t=t();if(n===t)return t;const u=typeof n,r=o!==void 0;if(e=r&&t[0]&&t[0].parentNode||e,u==="string"||u==="number"){if(l||u==="number"&&(n=n.toString(),n===t))return t;if(r){let s=t[0];s&&s.nodeType===3?s.data!==n&&(s.data=n):s=document.createTextNode(n),t=D(e,t,o,s)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||u==="boolean"){if(l)return t;t=D(e,t,o)}else{if(u==="function")return y(()=>{let s=n();for(;typeof s=="function";)s=s();t=B(e,s,t,o)}),()=>t;if(Array.isArray(n)){const s=[],f=t&&Array.isArray(t);if(z(s,n,t,i))return y(()=>t=B(e,s,t,o,!0)),()=>t;if(l){if(!s.length)return t;if(o===void 0)return t=[...e.childNodes];let c=s[0];if(c.parentNode!==e)return t;const a=[c];for(;(c=c.nextSibling)!==o;)a.push(c);return t=a}if(s.length===0){if(t=D(e,t,o),r)return t}else f?t.length===0?J(e,s,o):ye(e,t,s):(t&&D(e),J(e,s));t=s}else if(n.nodeType){if(l&&n.parentNode)return t=r?[n]:n;if(Array.isArray(t)){if(r)return t=D(e,t,o,n);D(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function z(e,n,t,o){let i=!1;for(let l=0,u=n.length;l<u;l++){let r=n[l],s=t&&t[e.length],f;if(!(r==null||r===!0||r===!1))if((f=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))i=z(e,r,s)||i;else if(f==="function")if(o){for(;typeof r=="function";)r=r();i=z(e,Array.isArray(r)?r:[r],Array.isArray(s)?s:[s])||i}else e.push(r),i=!0;else{const c=String(r);s&&s.nodeType===3&&s.data===c?e.push(s):e.push(document.createTextNode(c))}}return i}function J(e,n,t=null){for(let o=0,i=n.length;o<i;o++)e.insertBefore(n[o],t)}function D(e,n,t,o){if(t===void 0)return e.textContent="";const i=o||document.createTextNode("");if(n.length){let l=!1;for(let u=n.length-1;u>=0;u--){const r=n[u];if(i!==r){const s=r.parentNode===e;!l&&!u?s?e.replaceChild(i,r):e.insertBefore(i,t):s&&r.remove()}else l=!0}}else e.insertBefore(i,t);return[i]}const M=Symbol("store-raw"),T=Symbol("store-node"),A=Symbol("store-has"),te=Symbol("store-self");function ie(e){let n=e[E];if(!n&&(Object.defineProperty(e,E,{value:n=new Proxy(e,Ee)}),!Array.isArray(e))){const t=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let i=0,l=t.length;i<l;i++){const u=t[i];o[u].get&&Object.defineProperty(e,u,{enumerable:o[u].enumerable,get:o[u].get.bind(n)})}}return n}function w(e){let n;return e!=null&&typeof e=="object"&&(e[E]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function I(e,n=new Set){let t,o,i,l;if(t=e!=null&&e[M])return t;if(!w(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let u=0,r=e.length;u<r;u++)i=e[u],(o=I(i,n))!==i&&(e[u]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const u=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,f=u.length;s<f;s++)l=u[s],!r[l].get&&(i=e[l],(o=I(i,n))!==i&&(e[l]=o))}return e}function L(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function K(e,n,t){if(e[n])return e[n];const[o,i]=de(t,{equals:!1,internal:!0});return o.$=i,e[n]=o}function Se(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===E||n===T||(delete t.value,delete t.writable,t.get=()=>e[E][n]),t}function oe(e){R()&&K(L(e,T),te)()}function we(e){return oe(e),Reflect.ownKeys(e)}const Ee={get(e,n,t){if(n===M)return e;if(n===E)return t;if(n===Y)return oe(e),t;const o=L(e,T),i=o[n];let l=i?i():e[n];if(n===T||n===A||n==="__proto__")return l;if(!i){const u=Object.getOwnPropertyDescriptor(e,n);R()&&(typeof l!="function"||e.hasOwnProperty(n))&&!(u&&u.get)&&(l=K(o,n,l)())}return w(l)?ie(l):l},has(e,n){return n===M||n===E||n===Y||n===T||n===A||n==="__proto__"?!0:(R()&&K(L(e,A),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:we,getOwnPropertyDescriptor:Se};function C(e,n,t,o=!1){if(!o&&e[n]===t)return;const i=e[n],l=e.length;t===void 0?(delete e[n],e[A]&&e[A][n]&&i!==void 0&&e[A][n].$()):(e[n]=t,e[A]&&e[A][n]&&i===void 0&&e[A][n].$());let u=L(e,T),r;if((r=K(u,n,i))&&r.$(()=>t),Array.isArray(e)&&e.length!==l){for(let s=e.length;s<l;s++)(r=u[s])&&r.$();(r=K(u,"length",l))&&r.$(e.length)}(r=u[te])&&r.$()}function le(e,n){const t=Object.keys(n);for(let o=0;o<t.length;o+=1){const i=t[o];C(e,i,n[i])}}function Oe(e,n){if(typeof n=="function"&&(n=n(e)),n=I(n),Array.isArray(n)){if(e===n)return;let t=0,o=n.length;for(;t<o;t++){const i=n[t];e[t]!==i&&C(e,t,i)}C(e,"length",o)}else le(e,n)}function F(e,n,t=[]){let o,i=e;if(n.length>1){o=n.shift();const u=typeof o,r=Array.isArray(e);if(Array.isArray(o)){for(let s=0;s<o.length;s++)F(e,[o[s]].concat(n),t);return}else if(r&&u==="function"){for(let s=0;s<e.length;s++)o(e[s],s)&&F(e,[s].concat(n),t);return}else if(r&&u==="object"){const{from:s=0,to:f=e.length-1,by:c=1}=o;for(let a=s;a<=f;a+=c)F(e,[a].concat(n),t);return}else if(n.length>1){F(e[o],n,[o].concat(t));return}i=e[o],t=[o].concat(t)}let l=n[0];typeof l=="function"&&(l=l(i,t),l===i)||o===void 0&&l==null||(l=I(l),o===void 0||w(i)&&w(l)&&!Array.isArray(l)?le(i,l):C(e,o,l))}function ve(...[e,n]){const t=I(e||{}),o=Array.isArray(t),i=ie(t);function l(...u){ae(()=>{o&&u.length===1?Oe(t,u[0]):F(t,u)})}return[i,l]}const H=Symbol("store-root");function G(e,n,t,o,i){const l=n[t];if(e===l)return;const u=Array.isArray(e);if(t!==H&&(!w(e)||!w(l)||u!==Array.isArray(l)||i&&e[i]!==l[i])){C(n,t,e);return}if(u){if(e.length&&l.length&&(!o||i&&e[0]&&e[0][i]!=null)){let f,c,a,d,h,g,O,v;for(a=0,d=Math.min(l.length,e.length);a<d&&(l[a]===e[a]||i&&l[a]&&e[a]&&l[a][i]===e[a][i]);a++)G(e[a],l,a,o,i);const k=new Array(e.length),P=new Map;for(d=l.length-1,h=e.length-1;d>=a&&h>=a&&(l[d]===e[h]||i&&l[a]&&e[a]&&l[d][i]===e[h][i]);d--,h--)k[h]=l[d];if(a>h||a>d){for(c=a;c<=h;c++)C(l,c,e[c]);for(;c<e.length;c++)C(l,c,k[c]),G(e[c],l,c,o,i);l.length>e.length&&C(l,"length",e.length);return}for(O=new Array(h+1),c=h;c>=a;c--)g=e[c],v=i&&g?g[i]:g,f=P.get(v),O[c]=f===void 0?-1:f,P.set(v,c);for(f=a;f<=d;f++)g=l[f],v=i&&g?g[i]:g,c=P.get(v),c!==void 0&&c!==-1&&(k[c]=l[f],c=O[c],P.set(v,c));for(c=a;c<e.length;c++)c in k?(C(l,c,k[c]),G(e[c],l,c,o,i)):C(l,c,e[c])}else for(let f=0,c=e.length;f<c;f++)G(e[f],l,f,o,i);l.length>e.length&&C(l,"length",e.length);return}const r=Object.keys(e);for(let f=0,c=r.length;f<c;f++)G(e[r[f]],l,r[f],o,i);const s=Object.keys(l);for(let f=0,c=s.length;f<c;f++)e[s[f]]===void 0&&C(l,s[f],void 0)}function De(e,n={}){const{merge:t,key:o="id"}=n,i=I(e);return l=>{if(!w(l)||!w(i))return i;const u=G(i,{[H]:l},H,t,o);return u===void 0?l:u}}const Ge="_main_xoc0q_1",Te="_inputs_xoc0q_17",W={main:Ge,inputs:Te},se={F:["C","Db","D","Eb","E","F","Gb","G","Ab","A","B","Bn"],Bb:["C","Db","D","E","En","F","Gb","G","Ab","A","B","Bn"],Eb:["C","Db","D","E","En","F","Gb","G","A","An","B","Bn"],Ab:["C","D","Dn","E","En","F","Gb","G","A","An","B","Bn"],Db:["C","D","Dn","E","En","F","G","Gn","A","An","B","Bn"],Gb:["Cn","D","Dn","E","En","F","G","Gn","A","An","B","C"],Cb:["Cn","D","Dn","E","F","Fn","G","Gn","A","An","B","C"]},ce={G:["C","C#","D","D#","E","Fn","F","G","G#","A","A#","B"],D:["Cn","C","D","D#","E","Fn","F","G","G#","A","A#","B"],A:["Cn","C","D","D#","E","Fn","F","Gn","G","A","A#","B"],E:["Cn","C","Dn","D","E","Fn","F","Gn","G","A","A#","B"],B:["Cn","C","Dn","D","E","Fn","F","Gn","G","An","A","B"],"F#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","B"],"C#":["Cn","C","Dn","D","En","E","F","Gn","G","An","A","Bn"]},Ie=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],ke={C:Ie,...ce,...se},Ne={C:0,G:1,D:2,A:3,E:4,B:5,"F#":6,"C#":7,F:1,Bb:2,Eb:3,Ab:4,Db:5,Gb:6,Cb:7},re={C:[0,2,4,5,7,9,11],G:[7,9,11,0,2,4,6],D:[2,4,6,7,9,11,1],A:[9,11,1,2,4,6,8],E:[4,6,8,9,11,1,3],B:[11,1,3,4,6,8,10],"F#":[6,7,9,10,0,2,4],"C#":[1,3,5,6,8,10,0],F:[5,7,9,10,0,2,4],Bb:[10,0,2,3,5,7,9],Eb:[3,5,7,8,10,0,2],Ab:[8,10,0,1,3,5,7],Db:[1,3,5,6,8,10,0],Gb:[6,8,10,11,1,3,5],Cb:[11,1,3,4,6,8,10]},Fe=Array.from({length:12},(e,n)=>n);function q(e){const n=Ke({min:0,max:e.length-1});return e[n]}function Ke(e){const n=Math.random(),t=Be(n,{min:0,max:1},e);return Math.round(t)}function fe(){return q(Fe)}function Pe(e){const n=re[e];return q(n)}function xe(){return q([3,4])}function Be(e,n,t){return(e-n.min)/(n.max-n.min)*(t.max-t.min)+t.min}const Le="_panel_12sdg_1",je={panel:Le};var Re=m("<div><label for=input.clef><span> Clef </span><select></select></label><label for=input.chromatics><span> Chromatics </span><input type=checkbox></label><button>Reset"),U=m("<option>"),ze=m("<label for=input.key><span>Key Signature </span><select name=input.key id=input.key><optgroup label=Natural><option value=C>C</option></optgroup><optgroup label=Flats></optgroup><optgroup label=Sharps>");function Me(e){return(()=>{var n=Re(),t=n.firstChild,o=t.firstChild,i=o.nextSibling,l=t.nextSibling,u=l.firstChild,r=u.nextSibling,s=l.nextSibling;return b(n,S(He,{get value(){return e.keySignature},get onChange(){return e.onChangeKeySignature}}),t),i.addEventListener("change",f=>{var c;return(c=e==null?void 0:e.onChangeClef)==null?void 0:c.call(e,f.target.value)}),b(i,()=>["treble","alto","bass"].map(f=>(()=>{var c=U();return c.value=f,b(c,f),c})())),r.addEventListener("change",f=>{var c;return(c=e.onChangeChromatics)==null?void 0:c.call(e,f.currentTarget.checked)}),s.$$click=()=>{var f;return(f=e==null?void 0:e.onClickReset)==null?void 0:f.call(e)},y(()=>$(n,je.panel)),y(()=>r.checked=e.chromatics),n})()}function He(e){return(()=>{var n=ze(),t=n.firstChild,o=t.nextSibling,i=o.firstChild,l=i.nextSibling,u=l.nextSibling;return o.addEventListener("change",r=>{var s;(s=e==null?void 0:e.onChange)==null||s.call(e,r.target.value)}),b(l,()=>Object.keys(se).map(r=>(()=>{var s=U();return s.value=r,b(s,r),y(()=>s.selected=e.value==r),s})())),b(u,()=>Object.keys(ce).map(r=>(()=>{var s=U();return s.value=r,b(s,r),y(()=>s.selected=e.value==r),s})())),n})()}ee(["click"]);const Ue="_list_2jleo_1",x={list:Ue,"accuracy-text":"_accuracy-text_2jleo_14"};var qe=m("<dl><div><dt>Streak</dt><dd> </dd></div><div><dt>Accuracy</dt><dd>%");function Ve(e){const n=()=>e.outcome.correct+e.outcome.incorrect,t=()=>n()<=0?0:Math.trunc(100*(e.outcome.correct/n()));return(()=>{var o=qe(),i=o.firstChild,l=i.firstChild,u=l.nextSibling;u.firstChild;var r=i.nextSibling,s=r.firstChild,f=s.nextSibling,c=f.firstChild;return b(u,()=>e.streak,null),b(f,t,c),y(a=>{var d=x.list,h=x.streak,g=x.accuracy,O=x["accuracy-text"];return d!==a.e&&$(o,a.e=d),h!==a.t&&$(i,a.t=h),g!==a.a&&$(r,a.a=g),O!==a.o&&$(f,a.o=O),a},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()}const Ye="_panel_wvtia_1",pe={panel:Ye};var Je=m("<aside>");function We(e){const[n,t]=he(e,["streak","outcome"]);return(()=>{var o=Je();return b(o,S(Ve,n),null),b(o,S(Me,t),null),y(()=>$(o,pe.panel)),o})()}const Xe="_piano_zs5bu_1",Qe="_key_zs5bu_8",Ze="_c_zs5bu_16",en="_cs_zs5bu_17",nn="_fs_zs5bu_18",tn="_black_zs5bu_22",on="_white_zs5bu_38",ln="_d_zs5bu_74",sn="_e_zs5bu_80",cn="_f_zs5bu_18",rn="_g_zs5bu_92",fn="_a_zs5bu_98",un="_b_zs5bu_22",_={piano:Xe,key:Qe,c:Ze,cs:en,fs:nn,black:tn,white:on,d:ln,e:sn,f:cn,g:rn,a:fn,b:un};var an=m("<ul>"),dn=m("<li tabindex=0 role=button>");function hn(e){return(()=>{var n=an();return b(n,()=>[`${_.white} ${_.c}`,`${_.black} ${_.cs}`,`${_.white} ${_.d}`,`${_.black} ${_.ds}`,`${_.white} ${_.e}`,`${_.white} ${_.f}`,`${_.black} ${_.fs}`,`${_.white} ${_.g}`,`${_.black} ${_.gs}`,`${_.white} ${_.a}`,`${_.black} ${_.s}`,`${_.white} ${_.b}`].map((t,o)=>S(_n,{class:t,kind:o,get onClick(){return e.onClick}}))),y(()=>$(n,_.piano)),n})()}function _n(e){return(()=>{var n=dn();return n.$$click=()=>{var t;return(t=e.onClick)==null?void 0:t.call(e,e.kind)},y(()=>$(n,`${_.key} ${e.class}`)),n})()}ee(["click"]);const gn="_note_1mqz3_1",bn="_svg_1mqz3_5",Cn="_ref_1mqz3_10",X={note:gn,svg:bn,ref:Cn};var yn=m("<div id=note-oriety-vex-flow>");const $n="note-oriety-vex-flow";function An(e){let n;const t=Z(()=>ke[e.signature()][e.pitchClassKind()]);return _e(o=>{if(!n)return!1;o&&(n.innerHTML="");const i=100+Ne[e.signature()]*10,l=110,u=20,r=`0 ${u} ${i} ${l-u}`,s=new be({renderer:{elementId:$n,width:i,height:l,backend:Ce.SVG}}),f=s.EasyScore(),c=f.notes(`${t()}${e.octave()}/w`,{clef:e.clef});s.System().addStave({voices:[f.voice(c)]}).addClef(e.clef).addKeySignature(e.signature()),s.draw();const a=n.firstChild;return a.removeAttribute("width"),a.removeAttribute("height"),a.removeAttribute("style"),a.setAttribute("viewBox",r),a.classList.add(X.svg),n.classList.add(X.ref),!0},!1),(()=>{var o=yn(),i=n;return typeof i=="function"?Ae(i,o):n=o,o})()}var mn=e=>(typeof e.clear=="function"||(e.clear=()=>{let n;for(;n=e.key(0);)e.removeItem(n)}),e),Sn=["clear","getItem","getAll","setItem","removeItem","key","getLength"],wn=e=>(e.withOptions=n=>Sn.reduce((t,o)=>(typeof e[o]=="function"&&(t[o]=(...i)=>(i[e[o].length-1]=n,e[o](...i))),t),{get length(){return e.length},withOptions:t=>e.withOptions(t)}),e),En={domain:"Domain",expires:"Expires",path:"Path",secure:"Secure",httpOnly:"HttpOnly",maxAge:"Max-Age",sameSite:"SameSite"};function On(e){if(!e)return"";const n=Object.entries(e).map(([t,o])=>{const i=En[t];if(i)return o instanceof Date?`${i}=${o.toUTCString()}`:typeof o=="boolean"?o?`${i}`:void 0:`${i}=${o}`}).filter(t=>!!t);return n.length!=0?`; ${n.join("; ")}`:""}function vn(e,n){var o;const t=(o=e.match(`(^|;)\\s*${n}\\s*=\\s*([^;]+)`))==null?void 0:o.pop();return t!=null?decodeURIComponent(t):null}var N=wn(mn({_read:()=>document.cookie,_write:(e,n,t)=>{document.cookie=`${e}=${n}${On(t)}`},getItem:(e,n)=>vn(N._read(n),e),setItem:(e,n,t)=>{N._write(e,n.replace(/[\u00c0-\uffff\&;]/g,o=>encodeURIComponent(o)),t)},removeItem:(e,n)=>{N._write(e,"deleted",{...n,expires:new Date(0)})},key:(e,n)=>{let t=null,o=0;return N._read(n).replace(/(?:^|;)\s*(.+?)\s*=\s*[^;]+/g,(i,l)=>(!t&&l&&o++===e&&(t=l),"")),t},getLength:e=>{let n=0;return N._read(e).replace(/(?:^|;)\s*.+?\s*=\s*[^;]+/g,t=>(n+=t?1:0,"")),n},get length(){return this.getLength()}}));function Dn(e,n={}){var c;const t=n.storage||globalThis.localStorage,o=n.name||`storage-${ge()}`;if(!t)return[e[0],e[1],null];const i=n.storageOptions,l=n.serialize||JSON.stringify.bind(JSON),u=n.deserialize||JSON.parse.bind(JSON),r=t.getItem(o,i),s=typeof e[0]=="function"?a=>{try{const d=u(a);e[1](()=>d)}catch{}}:a=>{try{const d=u(a);e[1](De(d))}catch{}};let f=!0;if(r instanceof Promise?r.then(a=>f&&a&&s(a)):r&&s(r),typeof((c=n.sync)==null?void 0:c[0])=="function"){const a=typeof e[0]=="function"?e[0]:()=>e[0];n.sync[0](d=>{d.key!==o||(d.url||globalThis.location.href)!==globalThis.location.href||d.newValue===l(j(a))||s(d.newValue)})}return[e[0],typeof e[0]=="function"?a=>{var g;const d=e[1](a),h=a!=null?l(d):a;return(g=n.sync)==null||g[1](o,h),h!=null?t.setItem(o,h,i):t.removeItem(o,i),f=!1,d}:(...a)=>{var h;e[1](...a);const d=l(j(()=>e[0]));(h=n.sync)==null||h[1](o,d),t.setItem(o,d,i),f=!1},r]}var Gn=m("<main><div>");const Tn={treble:1,alto:0,bass:-1},Q={pitchClassKind:fe(),signature:"C",altoOctave:4,outcome:{correct:0,incorrect:0},showChromatics:!0,streak:0,clef:"treble"};function In(){const[e,n]=Dn(ve(structuredClone(Q))),t=Z(()=>e.altoOctave+Tn[e.clef]);function o(){let f;for(;;)if(f=e.showChromatics?fe():Pe(e.signature),f!==e.pitchClassKind){n("pitchClassKind",f);break}n("altoOctave",xe())}function i(f){n("showChromatics",f),!re[e.signature].includes(e.pitchClassKind)&&o()}function l(f){if(f!==e.pitchClassKind){n("streak",0),n("outcome","incorrect",c=>c+1);return}n("streak",c=>c+1),n("outcome","correct",c=>c+1),o()}function u(f){n("clef",f)}function r(f){n("signature",f)}function s(){n(structuredClone(Q))}return(()=>{var f=Gn(),c=f.firstChild;return b(f,S(An,{pitchClassKind:()=>e.pitchClassKind,signature:()=>e.signature,octave:t,get clef(){return e.clef}}),c),b(c,S(We,{get chromatics(){return e.showChromatics},get clef(){return e.clef},get keySignature(){return e.signature},get outcome(){return e.outcome},get streak(){return e.streak},onChangeChromatics:i,onChangeClef:u,onChangeKeySignature:r,onClickReset:s}),null),b(c,S(hn,{onClick:a=>l(a)}),null),y(a=>{var d=W.main,h=W.inputs;return d!==a.e&&$(f,a.e=d),h!==a.t&&$(c,a.t=h),a},{e:void 0,t:void 0}),f})()}$e(()=>S(In,{}),document.body);
